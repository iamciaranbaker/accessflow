{% macro render_field(field, placeholder = None, autofocus = False) %}
    {% set dynamic_placeholder = placeholder or field.label.text %}
    {{ field(class = 'form-control' + (' is-invalid' if field.errors else ''), placeholder = dynamic_placeholder, autofocus = autofocus) }}
{% endmacro %}

{% macro render_pagination(pagination, endpoint) %}
    <ul class="pagination pagination-sm m-0 float-right">
        {% if pagination.has_prev %}
            <a class="page-link mr-2"
            href="{{ url_for(endpoint, page = pagination.prev_num if pagination.prev_num != 1 else None) }}">
                Previous
            </a>
        {% endif %}
        {% set last_was_none = False %}
        {% for page in pagination.iter_pages(left_edge = 1, left_current = 2, right_current = 2, right_edge = 1) %}
            <li class="page-item {% if page == pagination.page %}active{% endif %}">
                {% if page %}
                    <a class="page-link"
                    href="{{ url_for(endpoint, page = page if page != 1 else None) }}">{{ page }}</a>
                    {% set last_was_none = False %}
                {% else %}
                    {% if not last_was_none %}
                        {% if loop.index0 < loop.length / 2 %}
                            <a class="page-link paginate-goto" role="button"
                            data-page="{{ pagination.page - 3 }}"
                            data-page-max="{{ pagination.pages }}">&hellip;</a>
                        {% else %}
                            <a class="page-link paginate-goto" role="button"
                            data-page="{{ pagination.page + 3 }}"
                            data-page-max="{{ pagination.pages }}">&hellip;</a>
                        {% endif %}
                        {% set last_was_none = True %}
                    {% endif %}
                {% endif %}
            </li>
        {% endfor %}
        {% if pagination.has_next %}
            <a class="page-link ml-2"
            href="{{ url_for(endpoint, page = pagination.next_num) }}">Next</a>
        {% endif %}
    </ul>
{% endmacro %}